<!DOCTYPE html>
<html>
<head>
  <title>Link Extractor</title>
</head>
<body>
  <input type="text" id="urlInput" placeholder="Enter URL">
  <button onclick="extractLinks()">Extract Links</button>
  
  <ul id="linksList"></ul>
  
  <script>
    function extractLinks() {
      const urlInput = document.getElementById('urlInput');
      const url = urlInput.value;
      const linksList = document.getElementById('linksList');
     
      linksList.innerHTML = ''; // Clear previous results

      // Fetch the HTML content of the web page
      fetch(url)
        .then(response => response.text())
        .then(html => {
          // Parse the HTML using DOMParser
          const parser = new DOMParser();
          const doc = parser.parseFromString(html, 'text/html');
          
          // Extract all the <a> elements and their href attributes
          const links = doc.querySelectorAll('a');
          const linkUrls = Array.from(links).map(link => {
        let href = link.href;
        // Remove the initial portion matching "http://127.0.0.1:5500" and replace it with urlInput
        if (href.startsWith("http://127.0.0.1:5500")) {
          href = urlInput.value + href.substring("http://127.0.0.1:5500".length);
        }
        return href;
      });

          // Append the links to the linksList
          linkUrls.forEach(linkUrl => {
            const li = document.createElement('li');
            const link = document.createElement('a');
            link.href = linkUrl;
            link.textContent = linkUrl;
            li.appendChild(link);
            linksList.appendChild(li);
          });
        })
        .catch(error => {
          console.error('Error:', error);
        });
    }
  </script>
</body>
</html>
